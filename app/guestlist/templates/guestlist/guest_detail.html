{% extends "components/layout/base.html" %}

{% load static %}

{% block title %}
    {{ block_title }}
{% endblock title %}
{% block content %}
    <c-object-detail>
    <div class="grid grid-cols-2 gap-4">
        <div>
            <div class="detail-card-field-name">First Name</div>
            <div class="detail-card-field-value">{{ object.first_name|default:"—" }}</div>
        </div>
        <div>
            <div class="detail-card-field-name">Last Name</div>
            <div class="detail-card-field-value">{{ object.last_name|default:"—" }}</div>
        </div>
        <!-- Guest Group -->
        {% if object.group %}
            <div>
                <div class="detail-card-field-name">Guest Group</div>
                <div class="detail-card-field-value">
                    <a href="{% url 'guestlist:guestgroup_detail' object.group.slug %}"
                       class="link link-primary">{{ object.group.name }}</a>
                </div>
            </div>
        {% endif %}
        <!-- Status Indicators -->
        <div>
            <div class="detail-card-field-name">Plus One</div>
            <div class="detail-card-field-value">
                {% if object.plus_one %}
                    Yes
                {% else %}
                    No
                {% endif %}
            </div>
        </div>
        <div>
            <div class="detail-card-field-name">Invited</div>
            <div class="detail-card-field-value">
                {% if object.is_invited %}
                    Yes
                {% else %}
                    No
                {% endif %}
            </div>
        </div>
        <div>
            <div class="detail-card-field-name">Overnight</div>
            <div class="detail-card-field-value">
                {% if object.overnight %}
                    Yes
                {% else %}
                    No
                {% endif %}
            </div>
        </div>
        <c-slot name="detail_actions_content">
        <c-buttons.add_attachment />
        </c-slot>
    </div>
    <c-slot name="extra_cards">
    <!-- Notes Section -->
    <div class="detail-card">
        <div class="detail-card-body">
            <h2 class="detail-card-title">Notes & Responses</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <div class="detail-card-field-name">Responded</div>
                    <div class="detail-card-field-value">
                        {% if object.responded %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </div>
                </div>
                <div>
                    <div class="detail-card-field-name">Attending</div>
                    <div class="detail-card-field-value">
                        {% if object.is_attending %}
                            Yes
                        {% else %}
                            No
                        {% endif %}
                    </div>
                </div>
                <!-- General Notes -->
                <div>
                    <div class="detail-card-field-name mb-2">General Notes</div>
                    {% if object.notes %}
                        <div class="detail-card-field-value">{{ object.notes|linebreaks }}</div>
                    {% else %}
                        <div class="detail-card-field-value">No notes available</div>
                    {% endif %}
                </div>
                <!-- Response Notes -->
                <div>
                    <div class="detail-card-field-name mb-2">Response Notes</div>
                    {% if object.response_notes %}
                        <div class="detail-card-field-value">{{ object.response_notes|linebreaks }}</div>
                    {% else %}
                        <div class="detail-card-field-value">No response notes available</div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    </c-slot>
    </c-object-detail>
{% endblock content %}
{% block extra_script %}
    <c-object.delete-script />
    <c-object.add-attachment-script />
{% endblock extra_script %}
