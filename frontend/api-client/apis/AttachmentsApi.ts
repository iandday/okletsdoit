/* tslint:disable */
/* eslint-disable */
/**
 * NinjaAPI
 * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)
 *
 * The version of the OpenAPI document: 1.0.0
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */
import type { AttachmentSchema, AttachmentUpdateSchema, PagedAttachmentSchema } from "../models/index";
import {
    AttachmentSchemaFromJSON,
    AttachmentSchemaToJSON,
    AttachmentUpdateSchemaFromJSON,
    AttachmentUpdateSchemaToJSON,
    PagedAttachmentSchemaFromJSON,
    PagedAttachmentSchemaToJSON,
} from "../models/index";
import * as runtime from "../runtime";

export interface AttachmentsApiCreateAttachmentRequest {
    appLabel: string;
    model: string;
    objectId: string;
    file: Blob;
    name?: string | null;
    description?: string | null;
}

export interface AttachmentsApiDeleteAttachmentRequest {
    attachmentId: string;
}

export interface AttachmentsApiGetAttachmentRequest {
    attachmentId: string;
}

export interface AttachmentsApiListAttachmentsRequest {
    contentTypeId?: number | null;
    objectId?: string | null;
    search?: string | null;
    page?: number;
    pageSize?: number | null;
}

export interface AttachmentsApiUpdateAttachmentRequest {
    attachmentId: string;
    attachmentUpdateSchema: AttachmentUpdateSchema;
}

/**
 *
 */
export class AttachmentsApi extends runtime.BaseAPI {
    /**
     * Create a new attachment with file upload
     * Create Attachment
     */
    async attachmentsApiCreateAttachmentRaw(
        requestParameters: AttachmentsApiCreateAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<runtime.ApiResponse<AttachmentSchema>> {
        if (requestParameters["appLabel"] == null) {
            throw new runtime.RequiredError(
                "appLabel",
                'Required parameter "appLabel" was null or undefined when calling attachmentsApiCreateAttachment().',
            );
        }

        if (requestParameters["model"] == null) {
            throw new runtime.RequiredError(
                "model",
                'Required parameter "model" was null or undefined when calling attachmentsApiCreateAttachment().',
            );
        }

        if (requestParameters["objectId"] == null) {
            throw new runtime.RequiredError(
                "objectId",
                'Required parameter "objectId" was null or undefined when calling attachmentsApiCreateAttachment().',
            );
        }

        if (requestParameters["file"] == null) {
            throw new runtime.RequiredError(
                "file",
                'Required parameter "file" was null or undefined when calling attachmentsApiCreateAttachment().',
            );
        }

        const queryParameters: any = {};

        if (requestParameters["appLabel"] != null) {
            queryParameters["app_label"] = requestParameters["appLabel"];
        }

        if (requestParameters["model"] != null) {
            queryParameters["model"] = requestParameters["model"];
        }

        if (requestParameters["objectId"] != null) {
            queryParameters["object_id"] = requestParameters["objectId"];
        }

        if (requestParameters["name"] != null) {
            queryParameters["name"] = requestParameters["name"];
        }

        if (requestParameters["description"] != null) {
            queryParameters["description"] = requestParameters["description"];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Service-Token"] = await this.configuration.apiKey("X-Service-Token"); // ServiceTokenAuth authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Session-Token"] = await this.configuration.apiKey("X-Session-Token"); // XSessionTokenAuth authentication
        }

        const consumes: runtime.Consume[] = [{ contentType: "multipart/form-data" }];
        // @ts-ignore: canConsumeForm may be unused
        const canConsumeForm = runtime.canConsumeForm(consumes);

        let formParams: { append(param: string, value: any): any };
        let useForm = false;
        // use FormData to transmit files using content-type "multipart/form-data"
        useForm = canConsumeForm;
        if (useForm) {
            formParams = new FormData();
        } else {
            formParams = new URLSearchParams();
        }

        if (requestParameters["file"] != null) {
            formParams.append("file", requestParameters["file"] as any);
        }

        let urlPath = `/api/attachments/attachments`;

        const response = await this.request(
            {
                path: urlPath,
                method: "POST",
                headers: headerParameters,
                query: queryParameters,
                body: formParams,
            },
            initOverrides,
        );

        return new runtime.JSONApiResponse(response, (jsonValue) => AttachmentSchemaFromJSON(jsonValue));
    }

    /**
     * Create a new attachment with file upload
     * Create Attachment
     */
    async attachmentsApiCreateAttachment(
        requestParameters: AttachmentsApiCreateAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<AttachmentSchema> {
        const response = await this.attachmentsApiCreateAttachmentRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Soft delete an attachment
     * Delete Attachment
     */
    async attachmentsApiDeleteAttachmentRaw(
        requestParameters: AttachmentsApiDeleteAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<runtime.ApiResponse<void>> {
        if (requestParameters["attachmentId"] == null) {
            throw new runtime.RequiredError(
                "attachmentId",
                'Required parameter "attachmentId" was null or undefined when calling attachmentsApiDeleteAttachment().',
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Service-Token"] = await this.configuration.apiKey("X-Service-Token"); // ServiceTokenAuth authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Session-Token"] = await this.configuration.apiKey("X-Session-Token"); // XSessionTokenAuth authentication
        }

        let urlPath = `/api/attachments/attachments/{attachment_id}`;
        urlPath = urlPath.replace(
            `{${"attachment_id"}}`,
            encodeURIComponent(String(requestParameters["attachmentId"])),
        );

        const response = await this.request(
            {
                path: urlPath,
                method: "DELETE",
                headers: headerParameters,
                query: queryParameters,
            },
            initOverrides,
        );

        return new runtime.VoidApiResponse(response);
    }

    /**
     * Soft delete an attachment
     * Delete Attachment
     */
    async attachmentsApiDeleteAttachment(
        requestParameters: AttachmentsApiDeleteAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<void> {
        await this.attachmentsApiDeleteAttachmentRaw(requestParameters, initOverrides);
    }

    /**
     * Get a specific attachment by ID
     * Get Attachment
     */
    async attachmentsApiGetAttachmentRaw(
        requestParameters: AttachmentsApiGetAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<runtime.ApiResponse<AttachmentSchema>> {
        if (requestParameters["attachmentId"] == null) {
            throw new runtime.RequiredError(
                "attachmentId",
                'Required parameter "attachmentId" was null or undefined when calling attachmentsApiGetAttachment().',
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Service-Token"] = await this.configuration.apiKey("X-Service-Token"); // ServiceTokenAuth authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Session-Token"] = await this.configuration.apiKey("X-Session-Token"); // XSessionTokenAuth authentication
        }

        let urlPath = `/api/attachments/attachments/{attachment_id}`;
        urlPath = urlPath.replace(
            `{${"attachment_id"}}`,
            encodeURIComponent(String(requestParameters["attachmentId"])),
        );

        const response = await this.request(
            {
                path: urlPath,
                method: "GET",
                headers: headerParameters,
                query: queryParameters,
            },
            initOverrides,
        );

        return new runtime.JSONApiResponse(response, (jsonValue) => AttachmentSchemaFromJSON(jsonValue));
    }

    /**
     * Get a specific attachment by ID
     * Get Attachment
     */
    async attachmentsApiGetAttachment(
        requestParameters: AttachmentsApiGetAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<AttachmentSchema> {
        const response = await this.attachmentsApiGetAttachmentRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * List all attachments (non-deleted) with filtering
     * List Attachments
     */
    async attachmentsApiListAttachmentsRaw(
        requestParameters: AttachmentsApiListAttachmentsRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<runtime.ApiResponse<PagedAttachmentSchema>> {
        const queryParameters: any = {};

        if (requestParameters["contentTypeId"] != null) {
            queryParameters["content_type_id"] = requestParameters["contentTypeId"];
        }

        if (requestParameters["objectId"] != null) {
            queryParameters["object_id"] = requestParameters["objectId"];
        }

        if (requestParameters["search"] != null) {
            queryParameters["search"] = requestParameters["search"];
        }

        if (requestParameters["page"] != null) {
            queryParameters["page"] = requestParameters["page"];
        }

        if (requestParameters["pageSize"] != null) {
            queryParameters["page_size"] = requestParameters["pageSize"];
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Service-Token"] = await this.configuration.apiKey("X-Service-Token"); // ServiceTokenAuth authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Session-Token"] = await this.configuration.apiKey("X-Session-Token"); // XSessionTokenAuth authentication
        }

        let urlPath = `/api/attachments/attachments`;

        const response = await this.request(
            {
                path: urlPath,
                method: "GET",
                headers: headerParameters,
                query: queryParameters,
            },
            initOverrides,
        );

        return new runtime.JSONApiResponse(response, (jsonValue) => PagedAttachmentSchemaFromJSON(jsonValue));
    }

    /**
     * List all attachments (non-deleted) with filtering
     * List Attachments
     */
    async attachmentsApiListAttachments(
        requestParameters: AttachmentsApiListAttachmentsRequest = {},
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<PagedAttachmentSchema> {
        const response = await this.attachmentsApiListAttachmentsRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Update an attachment
     * Update Attachment
     */
    async attachmentsApiUpdateAttachmentRaw(
        requestParameters: AttachmentsApiUpdateAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<runtime.ApiResponse<AttachmentSchema>> {
        if (requestParameters["attachmentId"] == null) {
            throw new runtime.RequiredError(
                "attachmentId",
                'Required parameter "attachmentId" was null or undefined when calling attachmentsApiUpdateAttachment().',
            );
        }

        if (requestParameters["attachmentUpdateSchema"] == null) {
            throw new runtime.RequiredError(
                "attachmentUpdateSchema",
                'Required parameter "attachmentUpdateSchema" was null or undefined when calling attachmentsApiUpdateAttachment().',
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters["Content-Type"] = "application/json";

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Service-Token"] = await this.configuration.apiKey("X-Service-Token"); // ServiceTokenAuth authentication
        }

        if (this.configuration && this.configuration.apiKey) {
            headerParameters["X-Session-Token"] = await this.configuration.apiKey("X-Session-Token"); // XSessionTokenAuth authentication
        }

        let urlPath = `/api/attachments/attachments/{attachment_id}`;
        urlPath = urlPath.replace(
            `{${"attachment_id"}}`,
            encodeURIComponent(String(requestParameters["attachmentId"])),
        );

        const response = await this.request(
            {
                path: urlPath,
                method: "PUT",
                headers: headerParameters,
                query: queryParameters,
                body: AttachmentUpdateSchemaToJSON(requestParameters["attachmentUpdateSchema"]),
            },
            initOverrides,
        );

        return new runtime.JSONApiResponse(response, (jsonValue) => AttachmentSchemaFromJSON(jsonValue));
    }

    /**
     * Update an attachment
     * Update Attachment
     */
    async attachmentsApiUpdateAttachment(
        requestParameters: AttachmentsApiUpdateAttachmentRequest,
        initOverrides?: RequestInit | runtime.InitOverrideFunction,
    ): Promise<AttachmentSchema> {
        const response = await this.attachmentsApiUpdateAttachmentRaw(requestParameters, initOverrides);
        return await response.value();
    }
}
